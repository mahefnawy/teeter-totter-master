(function(t){function e(e){for(var o,r,a=e[0],l=e[1],s=e[2],f=0,d=[];f<a.length;f++)r=a[f],i[r]&&d.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],o=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(o=!1)}o&&(c.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},c=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var s=0;s<a.length;s++)e(a[s]);var u=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0ef7":function(t,e,n){},"126f":function(t,e,n){"use strict";var o=n("82fc"),i=n.n(o);i.a},"189f":function(t,e,n){"use strict";var o=n("3830"),i=n.n(o);i.a},"2a7e":function(t,e,n){"use strict";var o=n("faa0"),i=n.n(o);i.a},"2a9d":function(t,e,n){},"30f9":function(t,e,n){"use strict";var o=n("2a9d"),i=n.n(o);i.a},3830:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("Header"),n("GameArea")],1)},c=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("div",{staticClass:"header__container"},[n("div",{staticClass:"header__pauseButton",on:{click:t.togglePause}},[n("font-awesome-icon",{attrs:{icon:t.pauseButton}})],1)])])},a=[],l=n("c93e"),s=n("c074"),u=n("2f62"),f=10,d=3,p=10,b=1,h=30,g=-30,m=20,k=2,v="TOGGLE_PAUSE",B="ADD_RIGHT_SIDE_BLOCK",_="ADD_LEFT_SIDE_BLOCK",O="RESET_STATE",S="FINISH_FALLING",w="START_NEW_GAME",y="INITIALIZE_FALLING_BLOCKS",j="ADD_FALLING_BLOCK",x="MOVE_RIGHT",T="MOVE_LEFT",P={name:"Header",computed:Object(l["a"])({},Object(u["c"])({isPaused:function(t){return t.isPaused}}),{pauseButton:function(){return this.isPaused?s["b"]:s["a"]}}),methods:Object(l["a"])({},Object(u["b"])({togglePause:v}))},E=P,C=(n("892a"),n("2877")),D=Object(C["a"])(E,r,a,!1,null,"683b9d8c",null);D.options.__file="Header.vue";var A=D.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"gameArea"},[n("Dropbox"),n("TeetleTottle")],1)},M=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"dropbox"},t._l(t.fallingBlocks,function(t,e){return n("FallingBlock",{key:t.id,attrs:{block:t,index:e}})}))},I=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Block",{ref:"block",attrs:{block:t.block,top:t.blockDropboxTop,index:t.index,isPaused:t.isPaused}})],1)},G=[],N=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"element",class:t.blockClassName,style:t.blockInlineStyle},[t._v("\n    "+t._s(t.block.weight)+"\n")])}),R=[],H={name:"Block",props:{block:{type:Object,required:!0},side:{type:Boolean},top:{type:Number}},methods:{roundUp:function(t){return Math.round(100*t)/100},getBlockBottomCoord:function(){var t=this.$refs.element;return t.getBoundingClientRect().bottom}},computed:{blockClassName:function(){var t=this.block.type;switch(t){case 0:return"block-circle";case 1:return"block-triangle";case 2:return"block-rectangle"}},blockInlineStyle:function(){var t=this.block,e=t.offset,n=t.type,o=t.height,i=this.side,c=this.roundUp,r=this.top,a=r||0,s=i?50+10*e:50-10*e,u=1!==n?{height:"".concat(c(o),"px"),width:"".concat(c(o),"px"),lineHeight:"".concat(c(o),"px")}:{borderWidth:"0 ".concat(c(o),"px ").concat(c(o),"px ").concat(c(o/2),"px"),lineHeight:"".concat(c(1.2*o),"px")};return Object(l["a"])({top:"".concat(a,"px"),left:"".concat(s,"%")},u)}}},K=H,W=(n("9435"),Object(C["a"])(K,N,R,!1,null,"f6ba163e",null));W.options.__file="Block.vue";var q=W.exports,U={name:"FallingBlock",props:{block:{type:Object,required:!0},index:{type:Number}},components:{Block:q},data:function(){return{blockWindowBottom:0,blockDropboxTop:this.block.height,timer:0}},computed:{isPaused:function(){return this.$store.state.isPaused},swingBending:function(){return this.$store.getters.swingBending},blockFinalPosition:function(){var t=this.getSwingCoords(),e=t.top,n=t.bottom;return this.swingBending>=0?e+(n-e)/2*(1-this.block.offset/(f/2)):n-(n-e)/2*(1-this.block.offset/(f/2))}},methods:{getSwingCoords:function(){var t=document.querySelector(".swing").getBoundingClientRect(),e=t.top,n=t.bottom;return{top:e,bottom:n}},incrementBlockDropboxTop:function(){this.blockDropboxTop+=20}},updated:function(){var t=this;if(this.isPaused)return clearTimeout(this.timer);0===this.index&&(this.blockWindowBottom=this.$refs.block.getBlockBottomCoord(),this.timer=setTimeout(function(){if(t.blockWindowBottom>=t.blockFinalPosition-20)return clearTimeout(t.timer),void t.$store.dispatch(S);t.incrementBlockDropboxTop()},250))}},z=U,J=(n("30f9"),Object(C["a"])(z,F,G,!1,null,"5a5aafd4",null));J.options.__file="FallingBlock.vue";var V=J.exports,Z={name:"Dropbox",components:{FallingBlock:V},computed:{fallingBlocks:function(){return this.$store.state.fallingBlocks}},methods:Object(l["a"])({},Object(u["b"])({initializeFallingBlocks:y,moveBlockRight:x,moveBlockLeft:T}),{onKeyDown:function(t){39===t.keyCode&&this.moveBlockRight(),37===t.keyCode&&this.moveBlockLeft()}}),beforeMount:function(){this.initializeFallingBlocks(),window.addEventListener("keydown",this.onKeyDown)},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDown)}},Q=Z,X=(n("189f"),Object(C["a"])(Q,$,I,!1,null,"14d72ee2",null));X.options.__file="Dropbox.vue";var Y=X.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"teetleTottle"},[n("Swing"),n("Pillar")],1)},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swing",style:t.inlineStyleSwing},[t._l(t.leftSideBlocks,function(t){return n("Block",{key:t.id,attrs:{block:t}})}),t._l(t.rightSideBlocks,function(t){return n("Block",{key:t.id,attrs:{block:t,side:!0}})})],2)},ot=[],it={name:"Swing",components:{Block:q},computed:Object(l["a"])({},Object(u["c"])(["rightSideBlocks","leftSideBlocks"]),{swingBending:function(){return this.$store.getters.swingBending},inlineStyleSwing:function(){return{transform:"rotate(".concat(this.swingBending/2,"deg)")}}}),methods:Object(l["a"])({},Object(u["b"])({addRightBlock:B})),beforeMount:function(){this.addRightBlock()}},ct=it,rt=(n("7433"),Object(C["a"])(ct,nt,ot,!1,null,"6f10687c",null));rt.options.__file="Swing.vue";var at=rt.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pillar"})},st=[],ut={name:"Pillar"},ft=ut,dt=(n("2a7e"),Object(C["a"])(ft,lt,st,!1,null,"45059a2a",null));dt.options.__file="Pillar.vue";var pt=dt.exports,bt={name:"TeetleTottle",components:{Swing:at,Pillar:pt}},ht=bt,gt=(n("c688"),Object(C["a"])(ht,tt,et,!1,null,"49137299",null));gt.options.__file="TeetleTottle.vue";var mt=gt.exports,kt={name:"GameArea",components:{Dropbox:Y,TeetleTottle:mt}},vt=kt,Bt=(n("126f"),Object(C["a"])(vt,L,M,!1,null,"7daed68d",null));Bt.options.__file="GameArea.vue";var _t=Bt.exports,Ot={name:"app",components:{Header:A,GameArea:_t}},St=Ot,wt=(n("5c0b"),Object(C["a"])(St,i,c,!1,null,null,null));wt.options.__file="App.vue";var yt,jt,xt=wt.exports,Tt=n("a322"),Pt=n("11c1");function Et(){var t=Object(Pt["v4"])(),e=Math.floor(Math.random()*d),n=Math.floor(Math.random()*p)+b,o=Math.floor(Math.random()*f/2)+1,i=8*n;return{id:t,type:e,weight:n,offset:o,height:i}}function Ct(t){return t.reduce(function(t,e){return t+e.weight*e.offset},0)}o["a"].use(u["a"]);var Dt=new u["a"].Store({state:{isPaused:!0,leftSideBlocks:[],rightSideBlocks:[],fallingBlocks:[]},getters:{leftSum:function(t){return Ct(t.leftSideBlocks)},rightSum:function(t){return Ct(t.rightSideBlocks)},swingBending:function(t,e){var n=e.leftSum,o=e.rightSum;return n?n===o?0:n>o?(n-o)/n*-100:(o-n)/o*100:h},gameOverStatus:function(t,e){var n=e.leftSum,o=e.rightSum,i=e.swingBending;return console.log(i),console.log(Math.abs(n-o)),i>h||i<g||Math.abs(n-o)>m}},mutations:(yt={},Object(Tt["a"])(yt,v,function(t){t.isPaused=!t.isPaused}),Object(Tt["a"])(yt,B,function(t){var e=Et();t.rightSideBlocks.push(e)}),Object(Tt["a"])(yt,_,function(t){var e=t.fallingBlocks.shift();t.leftSideBlocks.push(e)}),Object(Tt["a"])(yt,y,function(t){t.fallingBlocks=[];for(var e=0;e<k;e++){var n=Et();t.fallingBlocks.push(n)}}),Object(Tt["a"])(yt,j,function(t){var e=Et();t.fallingBlocks.push(e)}),Object(Tt["a"])(yt,x,function(t){t.isPaused||t.fallingBlocks[0].offset-1<=0||(t.fallingBlocks[0].offset-=1)}),Object(Tt["a"])(yt,T,function(t){t.isPaused||t.fallingBlocks[0].offset+1>5||(t.fallingBlocks[0].offset+=1)}),Object(Tt["a"])(yt,O,function(t){t.isPaused=!0,t.leftSideBlocks=[],t.rightSideBlocks=[],t.fallingBlocks=[]}),yt),actions:(jt={},Object(Tt["a"])(jt,S,function(t){var e=t.commit,n=t.state,o=t.getters,i=t.dispatch;e(_),e(j),n.leftSideBlocks.length&&n.leftSideBlocks.length!==n.rightSideBlocks.length&&e(B),o.gameOverStatus&&setTimeout(function(){alert("game over"),i(w)},0)}),Object(Tt["a"])(jt,w,function(t){var e=t.commit;e(O),e(B),e(y)}),jt),strict:!1}),At=n("ecee"),Lt=n("7a55");At["library"].add(s["a"],s["b"]),o["a"].component("font-awesome-icon",Lt["FontAwesomeIcon"]),o["a"].config.productionTip=!1,new o["a"]({store:Dt,render:function(t){return t(xt)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("b19e"),i=n.n(o);i.a},"61df":function(t,e,n){},7433:function(t,e,n){"use strict";var o=n("d211"),i=n.n(o);i.a},"82fc":function(t,e,n){},"892a":function(t,e,n){"use strict";var o=n("bc44"),i=n.n(o);i.a},9435:function(t,e,n){"use strict";var o=n("0ef7"),i=n.n(o);i.a},b19e:function(t,e,n){},bc44:function(t,e,n){},c688:function(t,e,n){"use strict";var o=n("61df"),i=n.n(o);i.a},d211:function(t,e,n){},faa0:function(t,e,n){}});
//# sourceMappingURL=app.64a58961.js.map